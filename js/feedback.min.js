const modalFeedback=document.querySelector(".modal-feedback"),clientNameField=modalFeedback.querySelector(".client-name"),clientEmailField=modalFeedback.querySelector(".client-email"),clientMessageField=modalFeedback.querySelector(".client-message"),feedbackForm=document.querySelector(".feedback-form"),feedbackFormFields=feedbackForm.querySelectorAll(".form-field");let isStorageSupport=!0,clientName="",clientEmail="";try{clientName=localStorage.getItem("clientName"),clientEmail=localStorage.getItem("clientEmail")}catch(e){isStorageSupport=!1}function fillForm(){clientNameField.focus(),clientName&&(clientNameField.value=clientName,clientEmailField.focus()),clientEmail&&(clientEmailField.value=clientEmail,clientMessageField.focus())}function checkForm(l){feedbackForm.classList.remove("error-form"),feedbackForm.offsetWidth=feedbackForm.offsetWidth,feedbackFormFields.forEach(function(e){e.value?isStorageSupport&&(localStorage.setItem("clientName",clientNameField.value),localStorage.setItem("clientEmail",clientEmailField.value)):(l.preventDefault(),e.classList.add("error-field"),e.addEventListener("keydown",function(){this.classList.remove("error-field")}),feedbackForm.classList.add("error-form"))})}feedbackForm.addEventListener("submit",checkForm),fillForm();
